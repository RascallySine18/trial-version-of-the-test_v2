/*
Пробный вариант к зачету по дисциплине МДК.01.04 Системное программирование
В базе данных хранятся сведения о работе автосалона:
- дата текущего года,
- фамилия менеджера,
- марка автомобиля,
- цена
Структура входного файла in.txt
23.10.2022 Винни-Пух Мерседес 30000
12.11.2022 Пятачок Мерседес 28000
15.10.2022 Винни-Пух БМВ 25000
...
Определить количество проданных автомобилей за каждый месяц, упорядочив по номеру месяца
Структура выходного файла out.txt
Месяц года Количество
10.2022 2
11.2022 1

*Дополнительно реализовано:
1. Меню с различными функциями
2. Динамическое управление памятью для массива продаж
3. Возможность сортировки по разным критериям
4. Добавление, удаление, редактирование записей
Выполнил Базан Игорь 303ИС-22
Файл main.cpp инициализирует динамический массив для хранения данных о продажах
и предоставляет меню для управления данными.
Меню позволяет сортировать записи, добавлять, удалять и редактировать их,
а также выводить список на экран.
Результаты анализа по месяцам сохраняются в файл out.txt.

Тестирование программы:
1. Подготовка входного файла:
- Создать файл in.txt с содержимым:
23.10.2022 Vinni-Pukh Mercedes 30000
12.11.2022 Pyatachok Mercedes 28000
15.10.2022 Vinni-Pukh BMW 25000
2. Проверка чтения данных:
- Запустить программу, выбрать пункт меню 2 (Загрузить продажи)
- Выбрать пункт 4 (Показать все продажи)
- Ожидаемый вывод:
1. 23.10.2022 Vinni-Pukh Mercedes 30000
2. 12.11.2022 Pyatachok Mercedes 28000
3. 15.10.2022 Vinni-Pukh BMW 25000
3. Проверка анализа по месяцам (пункт меню 9):
- Проверить содержимое файла out.txt:
Месяц года Количество
10.2022 2
11.2022 1
4. Проверка добавления записи (пункт меню 5):
- Выбрать пункт 5, ввести данные: 01.12.2022 Kanga Audi 32000
- Выбрать пункт 4, проверить, что новая запись появилась
5. Проверка удаления записи (пункт меню 7):
- Выбрать пункт 7, ввести номер записи для удаления (например, 2)
- Проверить обновленный список
6. Проверка редактирования записи (пункт меню 6):
- Выбрать пункт 6, ввести номер записи для редактирования
- Ввести новые данные
- Проверить обновленный список
7. Проверка сортировки (пункт меню 8):
- Выбрать критерий сортировки (дата, менеджер, марка, цена)
- Проверить отсортированный список
8. Проверка сохранения данных (пункт меню 3):
- Убедиться, что файл in.txt обновлен
9. Проверка выхода (пункт меню 0):
- Убедиться, что программа завершает работу с сообщением "Выход из программы"

*Примечания:
- При попытке выполнить операции с пустым массивом выводятся соответствующие сообщения
- Программа использует динамическое выделение памяти, освобождая её при завершении
- Для проверки файлов рекомендуется использовать текстовый редактор
или команду cat (в Linux) или type (в Windows)
*/

#include <iostream>
#include "functions.h"

/*
Основная функция программы.
Инициализирует динамический массив для хранения данных о продажах
и запускает главное меню программы.
После завершения работы освобождает выделенную память.
*/
int main() {
	setlocale(LC_ALL, "Russian");
	Sale* sales = nullptr; // Динамический массив продаж
	int count = 0;
	
	// Запуск главного меню
	showMenu(sales, count);
	
	// Освобождение памяти перед завершением
	delete[] sales;
	return 0;
}
